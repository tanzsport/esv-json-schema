{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "http://schema.tanzsport.de/json/esv/v1/veranstaltung.json",
  "title": "Veranstaltung V1",
  "description": "JSON-Schema für die Response des Endpunktes /api/v1/turniere/:id",
  "type": "object",
  "javaType": "de.tanzsport.esv.api.v1.model.veranstaltung.Veranstaltung",
  "properties": {
    "id": {
      "description": "ID der Veranstaltung",
      "type": "integer"
    },
    "datumVon": {
      "description": "Beginndatum der Veranstaltung",
      "type": "string",
      "javaType": "java.time.ZonedDateTime",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|[\\+\\-]+\\d{2}(:\\d{2})?)$",
      "example": "2014-04-18T00:00:00+02:00"
    },
    "datumBis": {
      "description": "Enddatum der Veranstaltung",
      "$ref": "#/properties/datumVon"
    },
    "turnierstaette": {
      "description": "Daten einer Turnierstätte",
      "type": "object",
      "javaType": "de.tanzsport.esv.api.v1.model.veranstaltung.Turnierstaette",
      "properties": {
        "ort": {
          "description": "Ort",
          "type": "string"
        },
        "name": {
          "description": "Name",
          "type": "string"
        },
        "anschrift": {
          "description": "Anschrift",
          "type": "string"
        },
        "plz": {
          "description": "PLZ",
          "type": "string"
        }
      },
      "required": [
        "ort",
        "name",
        "anschrift",
        "plz"
      ],
      "additionalProperties": false,
      "example": {
        "ort": "Berlin",
        "name": "Sporthalle Muster",
        "anschrift": "Musterstr. 1",
        "plz": "12345"
      }
    },
    "veranstalter": {
      "description": "Daten eines Veranstalters/Ausrichters",
      "type": [
        "null",
        "object"
      ],
      "javaType": "de.tanzsport.esv.api.v1.model.veranstaltung.VeranstalterAusrichter",
      "properties": {
        "id": {
          "description": "ID des Veranstalters/Ausrichters",
          "type": "integer"
        },
        "name": {
          "description": "Name des Veranstalters/Ausrichters",
          "type": "string"
        },
        "ltv": {
          "description": "Landesverband des Veranstalters/Ausrichters (sofern vorhanden)",
          "type": [
            "null",
            "object"
          ],
          "javaType": "de.tanzsport.esv.api.v1.model.Landesverband",
          "properties": {
            "id": {
              "description": "ID des Landesverbandes",
              "type": "integer"
            },
            "name": {
              "description": "Name des Landesverbandes",
              "type": "string"
            }
          },
          "required": [
            "id",
            "name"
          ],
          "additionalProperties": false,
          "example": {
            "id": 1,
            "name": "Landestanzsportverband Berlin e.V."
          }
        },
        "kontaktTelefon": {
          "type": [
            "null",
            "string"
          ]
        },
        "kontaktEmail": {
          "type": [
            "null",
            "string"
          ]
        }
      },
      "required": [
        "id",
        "name"
      ],
      "additionalProperties": false,
      "example": {
        "id": 123,
        "name": "TC Ocker-Umbra Musterstadt",
        "ltv": {
          "id": 1,
          "name": "Hessicher Tanzsportverband e.V."
        },
        "kontaktTelefon": "069 - 12345",
        "kontaktEmail": "ocker-umbra@email.de"
      }
    },
    "ausrichter": {
      "$ref": "#/properties/veranstalter"
    },
    "titel": {
      "type": [
        "null",
        "string"
      ]
    },
    "bemerkung": {
      "type": [
        "null",
        "string"
      ]
    },
    "wertungsrichter": {
      "type": "array",
      "items": {
        "description": "Daten eines Lizenzträgers",
        "type": "object",
        "javaType": "de.tanzsport.esv.api.v1.model.Lizenztraeger",
        "properties": {
          "id": {
            "description": "DTV-Nummer des Lizenzträgers",
            "type": "string"
          },
          "wdsfMin": {
            "description": "WDSF-MIN sofern vorhanden",
            "$comment": "FIXME - ESV gibt aktuell String zurück",
            "type": [
              "null",
              "integer",
              "string"
            ]
          },
          "lizenzNr": {
            "description": "alte Lizenz-Nr. sofern vorhanden",
            "$comment": "FIXME - ESV gibt aktuell String zurück",
            "type": [
              "null",
              "integer",
              "string"
            ]
          },
          "titel": {
            "description": "Titel sofern vorhanden",
            "type": [
              "null",
              "string"
            ]
          },
          "vorname": {
            "description": "Vorname des Lizenzträgers",
            "type": "string"
          },
          "nachname": {
            "description": "Nachname des Lizenzträgers",
            "type": "string"
          },
          "club": {
            "description": "Verein des Lizenzträgers",
            "javaName": "verein",
            "type": [
              "null",
              "object"
            ],
            "javaType": "de.tanzsport.esv.api.v1.model.Verein",
            "properties": {
              "id": {
                "description": "ID des Vereins, null bei ausländischen Vereinen",
                "type": [
                  "null",
                  "integer"
                ]
              },
              "name": {
                "description": "Name des Vereins",
                "type": "string"
              },
              "ltv": {
                "$comment": "Landesverband des Vereins, null bei ausländischen Vereinen",
                "$ref": "#/properties/veranstalter/properties/ltv"
              }
            },
            "required": [
              "id",
              "name",
              "ltv"
            ],
            "additionalProperties": false,
            "example": {
              "id": 123,
              "name": "TC Ocker-Umbra Musterstadt",
              "ltv": {
                "id": 1,
                "name": "Hessischer Tanzsportverband e.V."
              }
            }
          },
          "staat": {
            "description": "Land, für das der Lizenzträger aktiv ist (IOC-Code)",
            "type": "string",
            "minLength": 3,
            "maxLength": 3
          },
          "lizenzen": {
            "description": "Lizenzen des Lizenzträgers",
            "type": "array",
            "items": {
              "description": "Lizenztyp",
              "enum": [
                "TL",
                "TL-JMD",
                "WR-D",
                "WR-C",
                "WR-B-Std",
                "WR-B-Lat",
                "WR-A-Std",
                "WR-A-Lat",
                "WR-S-Std",
                "WR-S-Lat",
                "WR-S-RL-Std",
                "WR-S-RL-Lat",
                "WR-S-DM-Std",
                "WR-S-DM-Lat",
                "WR-F1",
                "WR-F2",
                "WR-F-BL",
                "WR-F-DM",
                "WR-J1",
                "WR-J2",
                "WR-J1-DM",
                "WR-J2-DM"
              ],
              "javaType": "de.tanzsport.esv.api.v1.model.LizenzTyp"
            }
          }
        },
        "required": [
          "id",
          "vorname",
          "nachname",
          "club",
          "staat",
          "lizenzen"
        ],
        "additionalProperties": false,
        "example": {
          "id": "DE10009",
          "wdsfMin": 123456,
          "lizenzNr": 998877,
          "titel": "Dr.",
          "vorname": "Max",
          "nachname": "Mustermann",
          "club": {
            "id": 1,
            "name": "TC Ocker-Umbra Musterstadt",
            "ltv": {
              "id": 1,
              "name": "Hessischer Tanzsportverband e.V."
            }
          },
          "staat": "GER",
          "lizenzen": [
            "TL"
          ]
        }
      }
    },
    "funktionaere": {
      "type": "array",
      "items": {
        "$ref": "#/properties/wertungsrichter/items"
      }
    },
    "flaechen": {
      "type": "array",
      "items": {
        "description": "Daten einer Turnierfläche",
        "type": "object",
        "javaType": "de.tanzsport.esv.api.v1.model.veranstaltung.Flaeche",
        "properties": {
          "id": {
            "description": "ID der Fläche zur Referenzierung; eindeutig innerhalb einer Veranstaltung",
            "type": "string"
          },
          "typ": {
            "description": "Typ der Fläche (Parkett, PVC etc.)",
            "type": "string"
          },
          "laenge": {
            "description": "Flächenlänge",
            "type": "number"
          },
          "breite": {
            "description": "Flächenbreite",
            "type": "number"
          }
        },
        "required": [
          "id",
          "typ",
          "laenge",
          "breite"
        ],
        "additionalProperties": false,
        "example": {
          "id": "Fläche 1",
          "typ": "PVC",
          "laenge": 10.5,
          "breite": 7.5
        }
      }
    },
    "turniere": {
      "type": "array",
      "items": {
        "description": "Daten eines Turniers",
        "type": "object",
        "javaType": "de.tanzsport.esv.api.v1.model.veranstaltung.Turnier",
        "properties": {
          "id": {
            "description": "ID des Turniers",
            "type": "integer"
          },
          "datumVon": {
            "description": "Beginndatum des Turniers",
            "$ref": "#/properties/datumVon"
          },
          "datumBis": {
            "description": "Enddatum des Turniers",
            "$ref": "#/properties/datumVon"
          },
          "startzeitPlan": {
            "description": "Geplante Startzeit des Turniers (veröffentlicht im Tanzspiegel)",
            "type": "string"
          },
          "startzeitPlanKorrigiert": {
            "description": "Ggf. vom Veranstalter/Ausrichter korrigierte Startzeit",
            "type": [
              "null",
              "string"
            ]
          },
          "titel": {
            "description": "Titel des Turniers",
            "type": [
              "null",
              "string"
            ]
          },
          "veranstalter": {
            "description": "Veranstalter des Turniers wenn abweichend von der Veranstaltung",
            "$ref": "#/properties/veranstalter"
          },
          "ausrichter": {
            "description": "Ausrichter des Turniers wenn abweichend von der Veranstaltung",
            "$ref": "#/properties/veranstalter"
          },
          "flaechenId": {
            "description": "ID der Fläche",
            "type": [
              "null",
              "string"
            ]
          },
          "wettbewerbsart": {
            "description": "Wettbewerbsart des Turniers",
            "enum": [
              "Einzel",
              "FormationStdLat",
              "Mannschaft",
              "Solo",
              "SoloMaennlich",
              "SoloWeiblich",
              "Duo",
              "SmallGroup",
              "FormationJMD"
            ],
            "javaType": "de.tanzsport.esv.api.v1.model.WettbewerbsartTyp"
          },
          "turnierform": {
            "description": "Turnierform des Turniers",
            "enum": [
              "DM",
              "DP",
              "DC",
              "RLT",
              "RS",
              "GM",
              "LM",
              "OT",
              "ET",
              "IET",
              "IM",
              "IT",
              "PDT",
              "LT",
              "IMK",
              "Mk",
              "RM"
            ],
            "javaType": "de.tanzsport.esv.api.v1.model.TurnierformTyp"
          },
          "startgruppe": {
            "description": "Startgruppe des Turniers",
            "enum": [
              "KinI",
              "KinII",
              "Kin",
              "JunI",
              "JunII",
              "Jug",
              "Hgr",
              "HgrII",
              "SenI",
              "SenII",
              "SenIII",
              "SenIV",
              "U21",
              "MCI",
              "MCII"
            ],
            "javaType": "de.tanzsport.esv.api.v1.model.StartgruppeTyp"
          },
          "startklasseLiga": {
            "description": "Startklasse oder -liga des Turniers",
            "type": [
              "null",
              "string"
            ],
            "enum": [
              null,
              "BSW",
              "D",
              "C",
              "B",
              "A",
              "S",
              "PD",
              "1BL",
              "2BL",
              "RL",
              "OL",
              "LL",
              "VL"
            ],
            "javaType": "de.tanzsport.esv.api.v1.model.StartklasseLigaTyp"
          },
          "turnierart": {
            "description": "Turnierart des Turniers",
            "enum": [
              "Std",
              "Lat",
              "Kmb",
              "JMD",
              "SD-Std",
              "SD-Lat"
            ],
            "javaType": "de.tanzsport.esv.api.v1.model.TurnierartTyp"
          },
          "zulassung": {
            "description": "Zulassungsbereiche des Turniers",
            "type": "array",
            "items": {
              "description": "Zulassungsbereich",
              "enum": [
                "WDSF",
                "EU",
                "DTV",
                "HATV",
                "HTV",
                "LTVBerlin",
                "LTVBr",
                "LTVBremen",
                "LTVB",
                "LTVS",
                "LTVSA",
                "NTV",
                "SLT",
                "TBW",
                "TMV",
                "TNW",
                "TRP",
                "TSH",
                "TTSV"
              ],
              "javaType": "de.tanzsport.esv.api.v1.model.ZulassungsbereichTyp"
            }
          },
          "wanderpokal": {
            "description:": "Flag Wanderpokal",
            "type": "boolean"
          },
          "turnierrang": {
            "description": "Turnierrang (numerisch 1 oder 2)",
            "type": "integer",
            "minimum": 1,
            "maximum": 2
          },
          "aufstiegsturnier": {
            "description": "Flag für Vergabe von Aufstiegspunkten",
            "type": "boolean"
          },
          "ranglistenId": {
            "description": "Ranglisten-ID für das Turnier (sofern vorhanden)",
            "$comment": "FIXME: ESV gibt Leerstring, nicht null zurück",
            "javaType": "de.tanzsport.esv.api.v1.model.RanglistenId",
            "enum": [
              null,
              "",
              "JunII-Std",
              "JunII-Lat",
              "Jug-Std",
              "Jug-Lat",
              "Hgr-Std",
              "Hgr-RS-Std",
              "Hgr-RS-Lat",
              "SenI-Std",
              "SenII-Std",
              "G55-Std",
              "LS66-Std",
              "Jug-SoloM-JMD",
              "Jug-SoloW-JMD",
              "Jug-Duo-JMD",
              "Jug-SG-JMD",
              "Hgr-SoloM-JMD",
              "Hgr-SoloW-JMD",
              "Hgr-Duo-JMD",
              "Hgr-SG-JMD"
            ]
          },
          "wdsfTurnierId": {
            "description": "WDSF-ID des Turniers (sofern vorhanden)",
            "type": [
              "null",
              "integer"
            ]
          },
          "startgebuehr": {
            "description": "Startgebühr (sofern vorhanden); Zahl in EUR oder Freitext",
            "type": [
              "null",
              "number",
              "string"
            ]
          },
          "bemerkungen": {
            "description": "Bemerkungen zum Turnier (sofern vorhanden)",
            "type": [
              "null",
              "string"
            ]
          },
          "wertungsrichter": {
            "description": "DTV-Nummern der für dieses Turnier eingesetzten Wertungsrichter",
            "type": [
              "null",
              "array"
            ],
            "items": {
              "type": "string"
            }
          },
          "turnierleiter": {
            "description": "DTV-Nummer des für dieses Turnier eingesetzten Turnierleiters",
            "type": [
              "null",
              "string"
            ]
          },
          "beisitzer": {
            "description": "DTV-Nummer des für dieses Turnier eingesetzten Beisitzers",
            "type": [
              "null",
              "string"
            ]
          },
          "chairman": {
            "description": "DTV-Nummer der für dieses Turnier eingesetzten Chairperson",
            "type": [
              "null",
              "string"
            ]
          }
        },
        "required": [
          "id",
          "datumVon",
          "datumBis",
          "startzeitPlan",
          "wettbewerbsart",
          "turnierform",
          "startgruppe",
          "startklasseLiga",
          "turnierart",
          "zulassung",
          "wanderpokal",
          "turnierrang",
          "aufstiegsturnier"
        ],
        "additionalProperties": false,
        "example": {
          "id": 1234,
          "datumVon": "2017-01-01T00:00:00+02:00",
          "datumBis": "2017-01-01T00:00:00+02:00",
          "startzeitPlan": "10:00",
          "startzeitPlanKorrigiert": "11:15",
          "titel": "Pokal des Bürgermeisters",
          "veranstalter": {
            "id": 1,
            "name": "TC Ocker Umbra Musterstadt",
            "ltv": {
              "id": 1,
              "name": "Landestanzsportverband Berlin e.V."
            }
          },
          "ausrichter": {
            "id": 1,
            "name": "TC Ocker Umbra Musterstadt",
            "ltv": {
              "id": 1,
              "name": "Landestanzsportverband Berlin e.V."
            }
          },
          "flaechenId": "Fläche 1",
          "wettbewerbsart": "Einzel",
          "turnierform": "OT",
          "startgruppe": "Hgr",
          "startklasseLiga": "S",
          "turnierart": "Lat",
          "zulassung": [
            "DTV"
          ],
          "wanderpokal": false,
          "turnierrang": 1,
          "aufstiegsturnier": true,
          "ranglistenId": null,
          "wdsfTurnierId": null,
          "startgebuehr": "10 EUR/Paar",
          "bemerkungen": "Abendveranstaltung mit Ball",
          "wertungsrichter": [
            "DE10017",
            "DE10025",
            "DE10033"
          ],
          "turnierleiter": "DE10041",
          "beisitzer": "DE10050",
          "chairman": "DE10068"
        }
      }
    }
  },
  "required": [
    "id",
    "datumVon",
    "datumBis",
    "turnierstaette",
    "veranstalter",
    "ausrichter",
    "titel",
    "bemerkung",
    "wertungsrichter",
    "funktionaere",
    "flaechen",
    "turniere"
  ],
  "additionalProperties": false
}